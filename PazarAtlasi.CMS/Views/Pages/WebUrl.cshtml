@{
    ViewData["Title"] = "Web URL Yönetimi";
}

<div class="page-designer">
    <div class="flex flex-wrap items-center mb-8">
        <div class="w-full lg:w-2/3 mb-4 lg:mb-0">
            <div class="page-title-box">
                <h4
                    class="text-2xl font-bold text-slate-800 relative inline-block after:content-[''] after:absolute after:bottom-[-8px] after:left-0 after:w-10 after:h-[3px] after:bg-purple-800 after:rounded-full">
                    Web URL Yönetimi
                </h4>
                <p class="text-slate-500 mt-3 max-w-xl">Web sitenizin navigasyon yapısını ve URL yapısını özelleştirin,
                    mega menü içeriklerini düzenleyin.</p>
            </div>
        </div>
        <div class="w-full lg:w-1/3 text-left lg:text-right">
            <div class="inline-flex items-center space-x-2">
                <button id="save-menu-changes"
                    class="py-2 px-4 bg-purple-800 hover:bg-purple-700 text-white rounded-lg text-sm transition-colors inline-flex items-center shadow-sm">
                    <i class="fas fa-save mr-2"></i> Değişiklikleri Kaydet
                </button>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8">
        <!-- Sol Panel - Menü Yapısı -->
        <div class="lg:col-span-3">
            <div class="bg-white rounded-xl shadow-md mb-6 sticky top-[80px]">
                <div class="p-5 border-b border-slate-100">
                    <h5 class="text-lg font-semibold text-slate-800 m-0">Menü Yapısı</h5>
                    <p class="text-sm text-slate-500 mt-1">Ana menü öğelerini yönetin</p>
                </div>
                <div class="p-4">
                    <div id="menu-structure" class="space-y-2">
                        <!-- Menü öğeleri JavaScript ile yüklenecek -->
                        <div class="p-3 bg-slate-100 rounded-lg border border-slate-200">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <i class="fas fa-bars text-purple-600 mr-3"></i>
                                    <span class="font-medium text-slate-700">Hakkımızda</span>
                                </div>
                                <span class="px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded">megamenu</span>
                            </div>
                        </div>
                        <div class="p-3 bg-slate-100 rounded-lg border border-slate-200">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <i class="fas fa-bars text-purple-600 mr-3"></i>
                                    <span class="font-medium text-slate-700">Hizmetlerimiz</span>
                                </div>
                                <span class="px-2 py-1 text-xs bg-indigo-100 text-indigo-800 rounded">servicetabs</span>
                            </div>
                        </div>
                        <button id="add-menu-item"
                            class="w-full p-3 border border-dashed border-purple-300 rounded-lg text-purple-700 hover:bg-purple-50 transition-colors flex items-center justify-center">
                            <i class="fas fa-plus mr-2"></i> Menü Öğesi Ekle
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Orta Panel - Seçili Menü Düzenleme -->
        <div class="lg:col-span-9">
            <div class="bg-white rounded-xl shadow-md mb-6">
                <div class="p-5 border-b border-slate-100 flex justify-between items-center">
                    <h5 class="text-lg font-semibold text-slate-800 m-0">Menü Düzenleme</h5>
                    <div class="flex items-center">
                        <select id="menu-type-selector"
                            class="bg-white border border-slate-200 text-slate-700 py-2 px-4 rounded-lg text-sm focus:outline-none focus:border-purple-300 focus:ring-2 focus:ring-purple-200 shadow-sm mr-2">
                            <option value="megamenu">Mega Menü</option>
                            <option value="servicetabs">Servis Sekmeleri</option>
                            <option value="categorized">Kategorize</option>
                            <option value="dropdown">Açılır Menü</option>
                            <option value="link">Basit Link</option>
                        </select>
                        <button id="preview-menu"
                            class="p-2 bg-slate-100 hover:bg-slate-200 rounded-lg text-slate-700 text-sm">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>

                <!-- Temel Menü Bilgileri Formu -->
                <div class="p-5 border-b border-slate-100">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-1">Menü ID</label>
                            <input type="text" id="menu-id"
                                class="w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                placeholder="about" />
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-1">Menü Etiketi</label>
                            <input type="text" id="menu-label"
                                class="w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                placeholder="Hakkımızda" />
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-1">URL (Link tipinde
                                gerekli)</label>
                            <input type="text" id="menu-url"
                                class="w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                placeholder="/hakkimizda" />
                        </div>
                    </div>
                </div>

                <!-- Dinamik İçerik Alanı (Seçilen menü tipine göre değişir) -->
                <div id="menu-content-editor" class="p-5">
                    <!-- Mega Menü İçerik Düzenleyici (Varsayılan) -->
                    <div id="megamenu-editor" class="menu-type-editor active">
                        <h6 class="text-md font-semibold text-slate-800 mb-4">Mega Menü İçeriği</h6>

                        <!-- Açıklama Bölümü -->
                        <div class="bg-slate-50 p-4 rounded-lg mb-4">
                            <h6 class="font-medium text-slate-700 mb-3">Açıklama Bölümü</h6>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Başlık</label>
                                    <input type="text"
                                        class="w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                        placeholder="Biz Kimiz?" />
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Link Metni</label>
                                    <input type="text"
                                        class="w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                        placeholder="Daha fazla bilgi" />
                                </div>
                                <div class="md:col-span-2">
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Açıklama Metni</label>
                                    <textarea
                                        class="w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                        rows="2" placeholder="Kısa açıklama..."></textarea>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-slate-700 mb-1">Link URL</label>
                                    <input type="text"
                                        class="w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                        placeholder="#" />
                                </div>
                            </div>
                        </div>

                        <!-- Hızlı Linkler Bölümü -->
                        <div class="bg-slate-50 p-4 rounded-lg mb-4">
                            <div class="flex justify-between items-center mb-3">
                                <h6 class="font-medium text-slate-700">Hızlı Linkler</h6>
                                <button
                                    class="text-xs bg-purple-100 text-purple-800 hover:bg-purple-200 px-2 py-1 rounded">
                                    <i class="fas fa-plus mr-1"></i> Link Ekle
                                </button>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Başlık</label>
                                <input type="text"
                                    class="w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400 mb-3"
                                    placeholder="Hızlı Erişim" />
                            </div>

                            <div class="space-y-2 max-h-[300px] overflow-y-auto">
                                <div class="flex items-center gap-2">
                                    <input type="text"
                                        class="flex-grow px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                        placeholder="Link Metni" value="Misyon & Vizyon" />
                                    <input type="text"
                                        class="w-1/3 px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                        placeholder="URL" value="#" />
                                    <button class="p-2 text-red-500 hover:bg-red-50 rounded">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="flex items-center gap-2">
                                    <input type="text"
                                        class="flex-grow px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                        placeholder="Link Metni" value="Ekibimiz" />
                                    <input type="text"
                                        class="w-1/3 px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                        placeholder="URL" value="#" />
                                    <button class="p-2 text-red-500 hover:bg-red-50 rounded">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Özellikler Bölümü -->
                        <div class="bg-slate-50 p-4 rounded-lg">
                            <div class="flex justify-between items-center mb-3">
                                <h6 class="font-medium text-slate-700">Özellik Öğeleri</h6>
                                <button
                                    class="text-xs bg-purple-100 text-purple-800 hover:bg-purple-200 px-2 py-1 rounded">
                                    <i class="fas fa-plus mr-1"></i> Özellik Ekle
                                </button>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-slate-700 mb-1">Başlık</label>
                                <input type="text"
                                    class="w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400 mb-3"
                                    placeholder="Neden biz?" />
                            </div>

                            <div class="space-y-3 max-h-[300px] overflow-y-auto">
                                <div class="bg-white p-3 rounded-lg border border-slate-200">
                                    <div class="flex justify-between items-center mb-2">
                                        <h6 class="font-medium text-slate-800">Özellik 1</h6>
                                        <button class="text-red-500 hover:bg-red-50 p-1 rounded">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="space-y-2">
                                        <div>
                                            <label class="block text-xs font-medium text-slate-700 mb-1">Başlık</label>
                                            <input type="text"
                                                class="w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                                placeholder="Özellik başlığı" value="10+ Yıllık Deneyim" />
                                        </div>
                                        <div>
                                            <label
                                                class="block text-xs font-medium text-slate-700 mb-1">Açıklama</label>
                                            <input type="text"
                                                class="w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-800 text-sm focus:outline-none focus:ring-2 focus:ring-purple-200 focus:border-purple-400"
                                                placeholder="Kısa açıklama"
                                                value="Sektörde uzun yıllara dayanan tecrübe" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Diğer menü tipleri için düzenleyiciler gizli durumda olacak -->
                    <div id="servicetabs-editor" class="menu-type-editor hidden">
                        <!-- Servis sekmeleri içerik düzenleyicisi -->
                        @await Html.PartialAsync("_ServiceTabsEditor")
                    </div>

                    <div id="categorized-editor" class="menu-type-editor hidden">
                        <!-- Kategorize içerik düzenleyicisi -->
                        @await Html.PartialAsync("_CategorizedEditor")
                    </div>

                    <div id="dropdown-editor" class="menu-type-editor hidden">
                        <!-- Dropdown içerik düzenleyicisi -->
                        @await Html.PartialAsync("_DropdownEditor")
                    </div>

                    <div id="link-editor" class="menu-type-editor hidden">
                        <!-- Link içerik düzenleyicisi -->
                        @await Html.PartialAsync("_LinkEditor")
                    </div>
                </div>
            </div>

            <!-- Önizleme -->
            <div class="bg-white rounded-xl shadow-md mb-6">
                <div class="p-5 border-b border-slate-100">
                    <h5 class="text-lg font-semibold text-slate-800 m-0 flex items-center">
                        <span class="mr-2">Menü Önizleme</span>
                        <span class="text-xs bg-blue-100 text-blue-800 rounded-full px-2 py-0.5">Örnek Görünüm</span>
                    </h5>
                </div>
                <div id="menu-preview" class="p-5">
                    <div class="text-center text-slate-500 py-4">
                        <i class="fas fa-eye text-3xl mb-3 text-slate-300"></i>
                        <p>Önizleme görmek için sağ üstteki önizleme düğmesine tıklayın.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/menuData.js"></script>
    <script src="~/js/menuEditor.js"></script>
}